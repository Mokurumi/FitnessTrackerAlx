{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<div class="container-fluid p-0 h-100 mb-5 wow fadeIn" data-wow-delay="0.1s">
  <div
    id="header-carousel"
    class="carousel slide carousel-fade"
    data-bs-ride="carousel"
  >
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          class="w-100"
          src="https://images.pexels.com/photos/2261477/pexels-photo-2261477.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
          alt="Image"
        />
        <div class="carousel-caption">
          <div class="container mx-auto">
            <div class="row justify-content-start">
              <div class="col-lg-8">
                <p
                  class="d-inline-block border border-white rounded text-white fw-semi-bold py-1 px-3 animated slideInDown"
                >
                  Welcome to the Fitness Tracker
                </p>
                <h1 class="display-1 mb-4 animated slideInDown">
                  Give Your best to stay Fit
                </h1>
                <a
                  href=""
                  class="btn btn-primary py-3 px-5 animated slideInDown"
                  >Start Now</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img
          class="w-100"
          src="https://images.pexels.com/photos/2261477/pexels-photo-2261477.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
          alt="Image"
        />
        <div class="carousel-caption">
          <div class="container mx-auto">
            <div class="row justify-content-start">
              <div class="col-lg-7">
                <p
                  class="d-inline-block border border-white rounded text-primary fw-semi-bold py-1 px-3 animated slideInDown"
                >
                  Welcome to the Fitness Tracker
                </p>
                <h1 class="display-1 mb-4 animated slideInDown">
                  The Best Way to Track Your Fitness Goals
                </h1>
                <a
                  href=""
                  class="btn btn-primary py-3 px-5 animated slideInDown"
                  >Start Now</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#header-carousel"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#header-carousel"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>

<form method="POST">
  <div class="row relative">
    <div class="form-floating mb-3 col">
      <input
        type="number"
        class="form-control"
        id="weight"
        name="weight"
        placeholder="Weight"
        required
      />
      <label class="px-16" for="weight">Weight:</label>
    </div>
    <div class="form-floating mb-3 col">
      <input
        type="number"
        class="form-control"
        id="height"
        name="height"
        placeholder="Height"
        required
      />
      <label class="px-8" for="height">Height:</label>
    </div>
    <div class="form-floating mb-3 col">
      <input
        type="number"
        class="form-control"
        id="age"
        name="age"
        placeholder="Age"
        required
      />
      <label class="px-16" for="age">Age:</label>
    </div>
    <button class="btn btn-primary" type="submit">Calculate BMI</button>
  </div>

  <h2 class="mt-4">
    <label for="muscle">Muscle:</label>
  </h2>
  <div class="dropdown">
    <select
      class="btn btn-secondary dropdown-toggle"
      id="muscle"
      onchange="getCaloriesBurned()"
    >
      <option>Select</option>
      <option value="abdominals" id="abdominals">Abdominals</option>
      <option value="abductors" id="abductors">Abductors</option>
      <option value="adductors" id="adductors">Adductors</option>
      <option value="biceps" id="biceps">Biceps</option>
      <option value="calves" id="calves">Calves</option>
      <option value="chest" id="chest">Chest</option>
      <option value="forearms" id="forearms">Forearms</option>
      <option value="glutes" id="glutes">Glutes</option>
      <option value="hamstrings" id="hamstrings">Hamstrings</option>
      <option value="lats" id="lats">Lats</option>
      <option value="lower_back" id="lower_back">Lower Back</option>
      <option value="middle_back" id="middle_back">Middle Back</option>
      <option value="neck" id="neck">Neck</option>
      <option value="quadriceps" id="quadriceps">Quadriceps</option>
      <option value="traps" id="traps">Traps</option>
      <option value="triceps" id="triceps">Triceps</option>
    </select>
  </div>
  <br />
</form>

<div id="workoutSection" class="gap-5">
  <!-- <h2>Workout 1</h2>
  <h3>Concentration curl</h3>
  <h3>Equipment: Dumbbell</h3>
  <h5>dificulty: 2</h5>
  <p>
    Stand up with your torso upright and a dumbbell on each hand being held at
    arms length. The elbows should be close to the torso. The palms of the hands
    should be facing your torso. This will be your starting position. Now, while
    holding your upper arm stationary, exhale and curl the weight forward while
    contracting the biceps. Continue to raise the weight until the biceps are
    fully contracted and the dumbbell is at shoulder level. Hold the contracted
    position for a brief moment as you squeeze the biceps. Tip: Focus on keeping
    the elbow stationary and only moving your forearm. After the brief pause,
    inhale and slowly begin the lower the dumbbells back down to the starting
    position. Repeat for the recommended amount of repetitions. Variations:
    There are many possible variations for this movement. For instance, you can
    perform the exercise sitting down on a bench with or without back support
    and you can also perform it by alternating arms; first lift the right arm
    for one repetition, then the left, then the right, etc.
  </p> -->
</div>

<ul class="list-group list-group-flush" id="notes">
  {% for note in user.notes %}
  <li class="list-group-item">
    {{ note.data }}
    <button type="button" class="close">
      <span aria-hidden="true">&times;</span>
    </button>
  </li>
  {% endfor %}
</ul>

<!-- <h1 align="center">Notes</h1>
<ul class="list-group list-group-flush" id="notes">
  {% for note in user.notes %}
  <li class="list-group-item">
    {{ note.data }}
    <button type="button" class="close" onClick="deleteNote({{ note.id }})">
      <span aria-hidden="true">&times;</span>
    </button>
  </li>
  {% endfor %}
</ul>
<form method="POST">
  <textarea name="note" id="note" class="form-control"></textarea>
  <br />
  <div align="center">
    <button type="submit" class="btn btn-primary">Add Note</button>
  </div>
</form> -->

<script>
  function getCaloriesBurned() {
    var selectedMuscle = document.getElementById("muscle").value;
    var apiUrl =
      "https://api.api-ninjas.com/v1/exercises?muscle=" + selectedMuscle;
    var apiKey = "+8B6pELyu/5ydbMwwsAqIg==SPOaULMXs4LbZSgx";

    fetch(apiUrl, {
      method: "GET",
      headers: {
        "X-Api-Key": apiKey,
      },
    })
      .then((response) => {
        if (!response.ok) {
          throw new Error("Network response was not ok");
        }
        return response.json();
      })
      .then((data) => {
        // console.log("Calories burned:", data);
        updateWorkoutSection(data);
      })
      .catch((error) => {
        console.error("Error:", error);
      });
  }

  function updateWorkoutSection(data) {
    var workoutSection = document.getElementById("workoutSection");
    workoutSection.innerHTML = ""; // Clear existing content

    if (data && data.length > 0) {
      var workoutHeader = document.createElement("h2");
      workoutHeader.textContent = "Workout";
      workoutSection.appendChild(workoutHeader);

      data.forEach((item, index) => {
        var workoutDiv = document.createElement("div");
        workoutDiv.innerHTML = `
        <div class="card mb-4">
  <div class="card-header ">
  <h3> ${index + 1}. ${item.name}</h3>
  </div>
  <div class="card-body">
   <h5 class="card-subtitle mb-2 text-muted">Equipment: ${item.equipment}</h5>
                <h5 class="card-subtitle mb-2 text-muted">Difficulty: ${
                  item.difficulty
                }</h5>
                <p class="card-text">${item.instructions}</p>
  </div>
</div>
    `;
        //     workoutDiv.innerHTML = `
        //     <div class="card-body">
        //         <h3 class="card-title">${item.name}</h3>
        //         <h4 class="card-subtitle mb-2 text-muted">Equipment: ${item.equipment}</h4>
        //         <h5 class="card-subtitle mb-2 text-muted">Difficulty: ${item.difficulty}</h5>
        //         <p class="card-text">${item.instructions}</p>
        //     </div>
        // `;
        workoutSection.appendChild(workoutDiv);
      });
    } else {
      // Handle the case when there is no data or an empty array
      workoutSection.innerHTML =
        "<p>No workout information available for selected muscle.</p>";
    }
  }
</script>

{% endblock %}
